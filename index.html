<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>给宝宝的小爱心</title>
<style>
  :root{
    --bg1:#fff0f6;
    --bg2:#ffeafa;
    --accent1:#ff6fa3;
    --accent2:#ff2e6d;
    --accent3:#ff9bb3;
    --glow: rgba(255,82,130,0.25);
  }

  html,body{
    height:100%;
    margin:0;
    font-family: -apple-system, "PingFang SC", "Microsoft YaHei", "Segoe UI", Roboto, sans-serif;
    -webkit-font-smoothing:antialiased;
  }

  /* 背景：动感渐变 + 轻微浮动 */
  .stage{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    background: radial-gradient(circle at 20% 20%, rgba(255,230,240,0.6), transparent 15%),
                radial-gradient(circle at 80% 80%, rgba(255,245,220,0.6), transparent 12%),
                linear-gradient(135deg, var(--bg1), var(--bg2));
    overflow:hidden;
    position:relative;
    animation: bgShift 8s ease-in-out infinite;
  }
  @keyframes bgShift{
    0%{filter: hue-rotate(0deg) saturate(1);}
    50%{filter: hue-rotate(8deg) saturate(1.05);}
    100%{filter: hue-rotate(0deg) saturate(1);}
  }

  /* 主心形：使用伪元素构造，添加渐变、发光、投影和跳动 */
  .heart-wrap{
    position:relative;
    width:240px;
    height:220px;
    display:flex;
    align-items:center;
    justify-content:center;
    transform-origin:center;
  }

  .heart{
    width:140px;
    height:120px;
    position:relative;
    transform: rotate(45deg);
    border-radius:20px 20px 0 0;
    background: linear-gradient(180deg, #ff90b0 0%, #ff3a73 60%, #ff2e6d 100%);
    box-shadow: 0 12px 36px rgba(255,60,120,0.12), 0 0 80px rgba(255,82,130,0.14);
    animation: heartBeat 1.6s ease-in-out infinite, gentleSway 6s ease-in-out infinite;
    filter: drop-shadow(0 10px 30px rgba(255,100,140,0.12));
  }

  /* 保留两个圆瓣（lobe），做更柔和的过渡 */
  .heart::before,
  .heart::after{
    content:"";
    position:absolute;
    width:140px;
    height:120px;
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.00)),
                linear-gradient(180deg, #ff90b0 0%, #ff3a73 60%);
    border-radius:50%;
    left:0;
    top:-60px;
    transform-origin:center;
    opacity:0.98;
    filter: blur(0.6px);
  }
  .heart::after{
    left:-60px;
    top:0;
  }

  /* 缓慢放大的发光层（稍微放慢节奏）*/
  .heart-glow{
    position:absolute;
    width:240px;
    height:240px;
    border-radius:50%;
    background:
      radial-gradient(circle at 30% 30%, rgba(255,110,160,0.18), transparent 22%),
      radial-gradient(circle at 70% 70%, rgba(255,150,190,0.10), transparent 18%);
    filter: blur(18px);
    z-index:-2;
    animation: glowPulse 3.2s ease-in-out infinite;
  }

  /* 光泽移动更慢更悠扬 */
  .heart-sheen{
    position:absolute;
    width:96px;height:84px;
    left:50%;top:50%;
    transform:translate(-50%,-50%) rotate(45deg);
    background: linear-gradient(120deg, rgba(255,255,255,0.45), rgba(255,255,255,0.06));
    border-radius:14px 14px 0 0;
    filter: blur(6px);
    mix-blend-mode:screen;
    animation: sheenMove 4.2s infinite linear;
    pointer-events:none;
  }

  /* 新增：心形叠层，增加柔和光斑与微旋转，增加浪漫感 */
  .heart-overlay{
    position:absolute;
    width:260px;
    height:260px;
    left:50%; top:50%;
    transform:translate(-50%,-50%);
    border-radius:50%;
    background:
      radial-gradient(circle at 30% 30%, rgba(255,220,238,0.28), transparent 18%),
      radial-gradient(circle at 70% 70%, rgba(255,240,245,0.22), transparent 20%);
    mix-blend-mode: soft-light;
    pointer-events:none;
    z-index:-1;
    filter: blur(8px);
    animation: overlayPulse 5.6s ease-in-out infinite;
  }

  /* 动画 keyframes（替换/新增） */
  @keyframes heartBeat{
    0%,100%{ transform: rotate(45deg) scale(1) translateY(0); }
    50%{ transform: rotate(45deg) scale(1.12) translateY(-6px); }
  }
  @keyframes gentleSway{
    0%{ transform: rotate(44.6deg) translateY(0); }
    25%{ transform: rotate(45.4deg) translateY(-2px); }
    50%{ transform: rotate(45deg) translateY(0); }
    75%{ transform: rotate(45.6deg) translateY(-2px); }
    100%{ transform: rotate(44.6deg) translateY(0); }
  }
  @keyframes glowPulse{
    0%,100%{ transform: scale(1); opacity:0.9; }
    50%{ transform: scale(1.14); opacity:1; }
  }
  @keyframes sheenMove{
    0%{ transform:translate(-62%,-56%) rotate(45deg); opacity:0.78; }
    50%{ transform:translate(-38%,-44%) rotate(45deg); opacity:1; }
    100%{ transform:translate(-62%,-56%) rotate(45deg); opacity:0.78; }
  }
  @keyframes overlayPulse{
    0%{ transform: translate(-50%,-50%) scale(0.98) rotate(-2deg); opacity:0.9; }
    50%{ transform: translate(-50%,-52%) scale(1.03) rotate(2deg); opacity:1; }
    100%{ transform: translate(-50%,-50%) scale(0.98) rotate(-2deg); opacity:0.9; }
  }

  /* 中心小心形闪烁（填色渐变移动） */
  .heart-sheen{
    position:absolute;
    width:80px;height:70px;
    left:50%;top:50%;
    transform:translate(-50%,-50%) rotate(45deg);
    background: linear-gradient(120deg, rgba(255,255,255,0.4), rgba(255,255,255,0.06));
    border-radius:12px 12px 0 0;
    filter: blur(6px);
    mix-blend-mode:screen;
    animation: sheenMove 2.6s infinite linear;
    pointer-events:none;
  }
  @keyframes sheenMove{
    0%{ transform:translate(-62%,-56%) rotate(45deg); opacity:0.78; }
    50%{ transform:translate(-38%,-44%) rotate(45deg); opacity:1; }
    100%{ transform:translate(-62%,-56%) rotate(45deg); opacity:0.78; }
  }

  /* 漂浮小爱心：由 JS 生成并上升消失 */
  .float-heart{
    position:absolute;
    width:18px;height:18px;
    transform: rotate(45deg);
    background: linear-gradient(180deg, var(--accent3), var(--accent2));
    border-radius:4px 4px 0 0;
    opacity:0.95;
    pointer-events:none;
    box-shadow:0 6px 12px rgba(255,80,140,0.18);
  }
  .float-heart::before, .float-heart::after{
    content:"";
    position:absolute;
    width:18px;height:18px;
    background:inherit;
    border-radius:50%;
    top:-9px; left:0;
  }
  .float-heart::after{ left:-9px; top:0; }

/* 替换原来的 .text 规则为下面内容 */
.text{
    position:relative;             /* 便于放置伪元素作为底板 */
    margin-top:26px;
    font-size:20px;
    font-weight:700;
    white-space:nowrap;
    overflow:hidden;
    box-sizing:content-box;

    /* 文字渐变，保留原有样式 */
    background: linear-gradient(90deg, #fff7ff, #ffd6e6 40%, #fff 80%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;

    /* 保持打字效果（宽度按字符数调节）*/
    width:10.5ch;
    border-right: 2px solid rgba(255,255,255,0.7);
    animation: typing 2.4s steps(11,end) 1, blink 1s step-end infinite;

    z-index:1;                     /* 保证文字在伪元素上层 */
    padding:8px 18px;              /* 为底板留出空间 */
    border-radius:12px;
    text-shadow: 0 6px 18px rgba(0,0,0,0.22); /* 加强可读性 */
}

/* 底板：半透明 + 毛玻璃模糊，增强与背景的对比 */
.text::before{
    content:'';
    position:absolute;
    left:0;
    top:50%;
    transform:translateY(-50%);
    width:100%;
    height:100%;
    background: rgba(237, 46, 122, 0.18); /* 深色半透明，可调节透明度 */
    border-radius:12px;
    z-index:-1;
    backdrop-filter: blur(6px); /* 毛玻璃效果（移动端现代浏览器支持）*/
    -webkit-backdrop-filter: blur(6px);
    box-shadow: 0 8px 20px #f65a9814;
}s

/* 小屏适配（必要时减小内边距与宽度） */
@media (max-width:420px){
    .text{ font-size:18px; width:9ch; padding:6px 12px; border-radius:10px; }
    .text::before{ border-radius:10px; }
}
</style>
</head>
<body>
  <div class="stage">
    <!-- 替换原来 <div class="heart-wrap"> ... </div> 为下面内容 -->
    <div class="heart-wrap" aria-hidden="true">
      <div class="heart-glow"></div>
      <div class="heart"></div>
      <div class="heart-sheen"></div>
      <div class="heart-overlay" aria-hidden="true"></div> <!-- 新增：柔和叠层与光斑 -->
    </div>

    <div class="text">宝宝，我想你了 ❤</div>

    <div class="footer-note">我每时每刻都在想我的宝宝哦 ~</div>
  </div>

  <script>
/* 粒子：漂浮小爱心 + 缓慢飘动的小星星/小爱心（围绕大心） */
(function(){
  const stage = document.querySelector('.stage');
  const heartWrap = document.querySelector('.heart-wrap');
  let max = 22;
  let running = true;

  function rand(min,max){ return Math.random()*(max-min)+min; }

  /* 原始漂浮小爱心（上升）——保持之前实现，节奏略放慢 */
  function createFloatHeart(){
    if(!running) return;
    const h = document.createElement('div');
    h.className = 'float-heart';
    const size = Math.floor(rand(12,30));
    h.style.width = size + 'px';
    h.style.height = size + 'px';
    h.style.left = (50 + rand(-30,30)) + '%';
    h.style.bottom = '-10px';
    const hueShift = Math.floor(rand(-8,8));
    h.style.filter = `hue-rotate(${hueShift}deg) saturate(${rand(0.95,1.08)})`;
    stage.appendChild(h);

    const duration = rand(5200,11000);
    const start = performance.now();
    function animate(now){
      const t = (now - start) / duration;
      if(t >= 1){ h.remove(); return; }
      const y = t * 120;
      const drift = Math.sin(t * Math.PI * rand(0.9,1.3)) * 10;
      const rot = t * 180;
      h.style.transform = `translate(${drift}px, -${y}vh) rotate(${rot}deg)`;
      h.style.opacity = String(1 - t*0.9);
      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);
  }

  /* 新增：在大心形周围缓慢漂浮的装饰（星星或迷你小心） */
  function createDecoration(){
    if(!running) return;
    const rect = heartWrap.getBoundingClientRect();
    const docRect = document.documentElement.getBoundingClientRect();
    // 在 heartWrap 区域周边产生 — 基于 rect 随机偏移
    const x = rect.left + rect.width/2 + rand(-rect.width*0.8, rect.width*0.8);
    const y = rect.top + rect.height/2 + rand(-rect.height*0.6, rect.height*0.4);

    const isStar = Math.random() < 0.55; // 星星概率稍大
    const el = document.createElement('div');
    if(isStar) el.className = 'tiny-star';
    else el.className = 'mini-heart';

    // 绝对定位到文档坐标
    el.style.left = (x - docRect.left) + 'px';
    el.style.top = (y - docRect.top) + 'px';
    // 初始缩放与透明度
    const scale = rand(0.8,1.2);
    el.style.transform += ` scale(${scale})`;
    stage.appendChild(el);

    // 动画：缓慢漂浮、微抖动、淡出并移除
    const duration = rand(8000,15000); // 更慢
    const start = performance.now();
    const horAmp = rand(6,18); // 水平漂移幅度变小
    const vert = rand(8,26); // 竖直总移动（px 的基础单位，配合 vh 会更自然）
    const rotDir = (Math.random() < 0.5 ? -1 : 1) * rand(6,40);
    function animate(now){
      const t = (now - start) / duration;
      if(t >= 1){ el.remove(); return; }
      // 缓慢上浮或轻微环绕（使用 sin 做往返）
      const dy = - (t * vert) - Math.sin(t * Math.PI * rand(0.8,1.6)) * (vert*0.2);
      const dx = Math.sin(t * Math.PI * rand(0.7,1.3)) * horAmp;
      const rotate = rotDir * t;
      el.style.transform = `translate(${dx}px, ${dy}px) rotate(${rotate}deg) scale(${scale})`;
      el.style.opacity = String(1 - t*0.98);
      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);
  }

  // 启动：初始产生若干、并周期性产生
  for(let i=0;i<6;i++){ setTimeout(createFloatHeart, i*380); }
  let floatInterval = setInterval(() => {
    if(stage.querySelectorAll('.float-heart').length < max) createFloatHeart();
  }, 1400);

  // 装饰：星星与迷你心，生成更慢更温柔
  for(let i=0;i<4;i++){ setTimeout(createDecoration, i*600); }
  let decoInterval = setInterval(() => {
    // 控制装饰总量，避免过多元素
    const totalDeco = stage.querySelectorAll('.tiny-star, .mini-heart').length;
    if(totalDeco < 24) createDecoration();
  }, 1200);

  // pause particles when page hidden
  document.addEventListener('visibilitychange', () => {
    running = !document.hidden;
  });

})();
  </script>
</body>
</html>